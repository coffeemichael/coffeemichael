
<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <title>ÎßàÏù¥ÌÅ¥Î¶¨Î∑∞ - Ïã§ÏãúÍ∞Ñ Í±∞Î¶¨Ïàú</title>
  <style>
    body {
      font-family: 'Arial', sans-serif;
      background-color: #2c6591;
      margin: 0;
      padding: 0;
      color: #000;
    }
    header {
      text-align: center;
      padding: 30px 0 10px;
      font-size: 40px;
      font-weight: bold;
    }
    .menu {
      display: flex;
      justify-content: center;
      gap: 20px;
      margin-top: 10px;
    }
    .menu button {
      padding: 10px 20px;
      font-size: 16px;
      border-radius: 20px;
      border: none;
      background-color: #fff;
      color: #000;
      font-weight: bold;
    }
    .search-container {
      display: flex;
      justify-content: center;
      margin-top: 20px;
    }
    .search-container input[type="text"] {
      width: 300px;
      padding: 10px;
      font-size: 16px;
      border: none;
      border-radius: 5px 0 0 5px;
    }
    .search-container button {
      padding: 10px;
      font-size: 16px;
      border: none;
      background-color: #fff;
      border-radius: 0 5px 5px 0;
    }
    .coffee-list {
      display: flex;
      flex-wrap: wrap;
      justify-content: center;
      gap: 20px;
      padding: 20px;
    }
    .coffee-card {
      background-color: white;
      border-radius: 12px;
      width: 30%;
      min-width: 200px;
      max-width: 300px;
      text-align: center;
      padding: 10px;
    }
    .coffee-card img {
      width: 100%;
      border-radius: 8px;
    }
    .coffee-card .name {
      font-size: 16px;
      font-weight: bold;
      margin: 10px 0 5px;
    }
    .coffee-card .distance {
      font-size: 14px;
    }
  </style>
</head>
<body>
  <div class="menu">
    <button>ÏÑúÏö∏</button>
    <button>CUP</button>
  </div>
  <div class="search-container">
    <input type="text" placeholder="Ïª§ÌîºÏàç Í≤ÄÏÉâÌïòÍ∏∞">
    <button>üîç</button>
  </div>
  <header>ÎßàÏù¥ÌÅ¥Î¶¨Î∑∞</header>
  <div id="coffee-list" class="coffee-list">
    Î°úÎî© Ï§ë...
  </div>

  <script>
    const shops = [
{ name: "Frolla", address: "ÏÑ±ÎèôÍµ¨ Ïó∞Î¨¥Ïû•17Í∏∏ 5", lat: null, lon: null, img: "10.PNG" },
{ name: "Cafe Onion", address: "Í∞ïÎ∂ÅÍµ¨ ÏÜîÎß§Î°ú50Í∏∏ 55", lat: null, lon: null, img: "11.PNG" },
{ name: "Brewing Ceremony", address: "ÏÑ±ÎèôÍµ¨ Ïó∞Î¨¥Ïû•5Í∞ÄÍ∏∏ 22-1", lat: null, lon: null, img: "12.PNG" },
{ name: "Bean Brothers", address: "ÎßàÌè¨Íµ¨ ÌÜ†Ï†ïÎ°ú 35-1", lat: null, lon: null, img: "13.PNG" },
{ name: "A TO B", address: "ÏÑ±ÎèôÍµ¨ ÏïÑÏ∞®ÏÇ∞Î°ú 135 2Ï∏µ", lat: null, lon: null, img: "14.PNG" },
{ name: "Guete Leute", address: "Í∞ïÎÇ®Íµ¨ ÏÑ†Î¶âÎ°ú131Í∏∏ 16", lat: null, lon: null, img: "15.PNG" },
{ name: "Raw Coffee Stand", address: "ÏÑ±ÎèôÍµ¨ ÏôïÏã≠Î¶¨Î°ú4Í∏∏ 28-2", lat: null, lon: null, img: "16.PNG" },
{ name: "Frizt Coffee", address: "Ï¢ÖÎ°úÍµ¨ Ïú®Í≥°Î°ú 83", lat: null, lon: null, img: "17.PNG" },
{ name: "Milo Coffee", address: "ÎßàÌè¨Íµ¨ ÎèôÍµêÎèô 170-33", lat: null, lon: null, img: "18.PNG" },
{ name: "Wicker Park", address: "ÏÜ°ÌååÍµ¨ ÏÑùÏ¥åÌò∏ÏàòÎ°ú 298, Ïû†Ïã§ÎåÄÏö∞Î†àÏù¥ÌÅ¨ÏõîÎìú 103-1Ìò∏", lat: null, lon: null, img: "19.PNG" },
{ name: "Pastel Coffee Works", address: "ÎßàÌè¨Íµ¨ ÎèÖÎßâÎ°ú2Í∏∏ 38", lat: null, lon: null, img: "20.PNG" },
{ name: "Coffee Lusso", address: "Í∞ïÎÇ®Íµ¨ ÏÑ†Î¶âÎ°ú158Í∏∏ 16", lat: null, lon: null, img: "21.PNG" },
{ name: "Vision Stroll (Ïó∞Ìù¨)", address: "ÏÑúÎåÄÎ¨∏Íµ¨ Ïó∞Ìù¨Î°ú11Í∏∏ 57", lat: null, lon: null, img: "22.PNG" },
{ name: "Sunho Coffee", address: "ÏÜ°ÌååÍµ¨ Ïã†Ï≤úÎèô 17-4 AÏÉÅÍ∞Ä 138", lat: null, lon: null, img: "23.PNG" },
{ name: "Namusairo", address: "Ï¢ÖÎ°úÍµ¨ ÏÇ¨ÏßÅÎ°ú8Í∏∏ 21", lat: null, lon: null, img: "24.PNG" },
{ name: "Fromheras Dosan", address: "Í∞ïÎÇ®Íµ¨ Ïñ∏Ï£ºÎ°ú168Í∏∏ 29", lat: null, lon: null, img: "25.PNG" },
{ name: "Come To Rest", address: "ÎèôÎåÄÎ¨∏Íµ¨ ÌöåÍ∏∞Î°ú 161-11", lat: null, lon: null, img: "26.PNG" },
{ name: "Coffee Libere", address: "ÏòÅÎì±Ìè¨Íµ¨ ÏòÅÏ§ëÎ°ú 15 ÌÉÄÏûÑÏä§ÌÄòÏñ¥ 112Ìò∏", lat: null, lon: null, img: "27.PNG" },
{ name: "Anthracite", address: "Ïö©ÏÇ∞Íµ¨ Ïù¥ÌÉúÏõêÎ°ú 240", lat: null, lon: null, img: "28.PNG" },
{ name: "Loose Door", address: "ÎßàÌè¨Íµ¨ Ìè¨ÏùÄÎ°ú 50", lat: null, lon: null, img: "29.PNG" },
{ name: "Biroso Coffee", address: "ÎßàÌè¨Íµ¨ Í¥ëÏÑ±Î°ú6Í∏∏ 42", lat: null, lon: null, img: "30.PNG" },
{ name: "Tailor Coffee", address: "Í∞ïÎÇ®Íµ¨ Í∞ïÎÇ®ÎåÄÎ°ú160Í∏∏ 31", lat: null, lon: null, img: "31.PNG" },
{ name: "Deep Blue Lake", address: "ÎßàÌè¨Íµ¨ Ìè¨ÏùÄÎ°ú6Í∏∏ 11", lat: null, lon: null, img: "32.PNG" },
{ name: "Bunker", address: "Í∞ïÎÇ®Íµ¨ Ïñ∏Ï£ºÎ°ú167Í∏∏ 23", lat: null, lon: null, img: "33.PNG" },
{ name: "Liike Coffee", address: "ÏÑ±Î∂ÅÍµ¨ Î≥¥Î¨∏Î°ú34Í∞ÄÍ∏∏ 24", lat: null, lon: null, img: "34.PNG" },
{ name: "New Wave", address: "ÏñëÏ≤úÍµ¨ Ïã†Î™©Î°ú2Í∏∏ 35-1", lat: null, lon: null, img: "35.PNG" },
{ name: "Aufglet", address: "ÏÑ±ÎèôÍµ¨ ÎèÖÏÑúÎãπÎ°ú51Í∏∏ 7", lat: null, lon: null, img: "36.PNG" },
{ name: "TXT Coffee", address: "Ï¢ÖÎ°úÍµ¨ Ï∞ΩÎçïÍ∂ÅÍ∏∏ 121", lat: null, lon: null, img: "37.PNG" },
{ name: "Monsieurbubu", address: "ÎßàÌè¨Íµ¨ ÎßùÏõêÎ°ú 13", lat: null, lon: null, img: "38.PNG" },
{ name: "Gary Gristmill", address: "Í∞ïÎÇ®Íµ¨ ÏïïÍµ¨Ï†ï2Í∏∏ 15 B1", lat: null, lon: null, img: "39.PNG" },
{ name: "Peer Coffee", address: "ÏÑ±ÎèôÍµ¨ Í¥ëÎÇòÎ£®Î°ú4Í∞ÄÍ∏∏ 24", lat: null, lon: null, img: "40.PNG" },
{ name: "YM Coffee", address: "ÏùÄÌèâÍµ¨ ÏßÑÍ¥Ä3Î°ú 67", lat: null, lon: null, img: "41.PNG" },
{ name: "OND", address: "ÎèôÎåÄÎ¨∏Íµ¨ ÎßùÏö∞Î°ú12Í∞ÄÍ∏∏ 17", lat: null, lon: null, img: "42.PNG" },
{ name: "Gabaemihon", address: "ÎèÑÎ¥âÍµ¨ ÎèÑÎ¥âÎ°ú115Í∏∏ 4", lat: null, lon: null, img: "43.PNG" },
{ name: "Champ Coffee", address: "Ïö©ÏÇ∞Íµ¨ ÎÖπÏÇ¨ÌèâÎåÄÎ°ú26Í∞ÄÍ∏∏ 24", lat: null, lon: null, img: "44.PNG" },
{ name: "Brobell Coffee", address: "ÏÑ±ÎèôÍµ¨ ÎöùÏÑ¨Î°ú 413", lat: null, lon: null, img: "45.PNG" },
{ name: "Camel Coffee", address: "ÏòÅÎì±Ìè¨Íµ¨ Ïó¨ÏùòÎåÄÎ°ú 108 ÏßÄÌïò1Ï∏µ", lat: null, lon: null, img: "46.PNG" },
{ name: "Travertine", address: "Ïö©ÏÇ∞Íµ¨ ÌïúÍ∞ïÎåÄÎ°ú7Í∏∏ 18-7", lat: null, lon: null, img: "47.PNG" },
{ name: "Lowkey", address: "ÏÑ±ÎèôÍµ¨ Ïó∞Î¨¥Ïû•3Í∏∏ 6", lat: 37.5441964034721, lon: 127.051579151478, img: "48.PNG" },
{ name: "Gimisa", address: "ÏÑ±ÎèôÍµ¨ ÏÑ±ÏàòÏù¥Î°ú26Í∏∏ 47", lat: 37.545134419964, lon: 127.062772457313, img: "49.PNG" },
{ name: "Coffee Graffiti", address: "ÏòÅÎì±Ìè¨Íµ¨ ÏñëÌèâÎ°ú28Îã§Í∏∏ 3", lat: 37.5412548774357, lon: 126.890994565302, img: "50.PNG" },

    ];

    function getDistance(lat1, lon1, lat2, lon2) {
      const R = 6371;
      const dLat = (lat2 - lat1) * Math.PI / 180;
      const dLon = (lon2 - lon1) * Math.PI / 180;
      const a = Math.sin(dLat / 2) ** 2 +
                Math.cos(lat1 * Math.PI / 180) * Math.cos(lat2 * Math.PI / 180) *
                Math.sin(dLon / 2) ** 2;
      const c = 2 * Math.atan2(Math.sqrt(a), Math.sqrt(1 - a));
      return (R * c).toFixed(2);
    }

    function renderShops(sortedShops) {
      const container = document.getElementById("coffee-list");
      container.innerHTML = "";
      sortedShops.forEach(shop => {
        const card = document.createElement("div");
        card.className = "coffee-card";
        card.innerHTML = `
          <img src="${shop.img}" alt="${shop.name}">
          <div class="name">${shop.name}</div>
          <div class="distance">${shop.distance}km</div>
        `;
        container.appendChild(card);
      });
    }

    function updateDistancesAndRender() {
      if (!navigator.geolocation) return alert("ÏúÑÏπò Í∂åÌïúÏù¥ ÌïÑÏöîÌï©ÎãàÎã§!");
      navigator.geolocation.getCurrentPosition(pos => {
        const myLat = pos.coords.latitude;
        const myLon = pos.coords.longitude;

        const computed = shops.map(shop => {
          if (shop.lat && shop.lon) {
            shop.distance = getDistance(myLat, myLon, shop.lat, shop.lon);
          } else {
            shop.distance = (Math.random() * 2 + 3).toFixed(2);
          }
          return shop;
        });

        computed.sort((a, b) => parseFloat(a.distance) - parseFloat(b.distance));
        renderShops(computed);
      });
    }

    
window.onload = () => {
  updateDistancesAndRender();

  const input = document.querySelector('.search-container input');
  input.addEventListener('input', function () {
    const keyword = this.value.toLowerCase();
    const filtered = shops.filter(shop => shop.name.toLowerCase().includes(keyword));
    renderShops(filtered);
  });
};

  </script>
</body>
</html>
